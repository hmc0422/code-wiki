# Java面试题精华整理篇

### 1. 你知道为什么String被设计为不可变的？

> 通过源码可知，String类中的value被final所修饰，是不允许改变的；同时String类也是被final所修饰，所以是不能被继承，被重写的；
>
> String被设置为不可变的好处：
>
> 1. 常量池可以节省大量的内存空间
> 2. 利用它的不可变性，用作HashMap的key
> 3. 缓存hashcode的值，不用重新计算哈希值，直接返回缓存中的hashcode
> 4. 保证线程安全，可以被多个线程所共享

### 2.如何设计一个类似Dubbo的RPC框架？

> 整体思路：
>
> 1. 假设服务A和服务B，A服务要想访问B服务，需要在配置文件中保存B服务的IP和端口；
>
> 2. 后期服务B需要进行水平扩展，A服务再写死配置则不合适，需要引入注册中心（nacos、eurka、zookeeper）来进行动态配置管理
>
> 3. 服务A需要从注册中心获取数据，则需要向注册中心发起请求，可以通过JDK动态代理来获取接口在本地的一个代理，这个代理会找到服务在本地注册的地址
>
> 4. 如何得知是从哪台服务器获取请求呢，此时需要引入负载均衡算法，比如随机轮询，hash，权重等
>
> 5. 当找到服务器后，发起请求，此时我们要考虑引入网络框架，比如netty
>
> 6. 网络框架有了之后，我们需要考虑基于什么格式进行传输，常见的有fastjson、hission，protobuf等等
>
> 7. 服务端接收，跟发送方一致，首先根据服务生成动态代理，监听端口，代理本地代码，接收到请求后，调用相应的接口
